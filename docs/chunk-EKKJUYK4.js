import{a as j,b as $}from"./chunk-D44XKJPT.js";import{i as h,j as b}from"./chunk-CV54SURB.js";import{a as V,b as B,c as O,d as z,e as R,f as P}from"./chunk-HLL3N7YK.js";import{l as G}from"./chunk-LDGQ5LB5.js";import"./chunk-2QBBAMYX.js";import{Db as p,Eb as A,Fb as S,Ib as D,Lb as W,Mb as L,Qa as o,Ra as w,ad as I,bd as N,db as C,dd as Y,ed as E,fb as m,ga as u,hb as M,kb as i,lb as l,mb as _,oa as g,pa as s,pc as F,qb as T,qc as x,tb as f,tc as H,vb as c,wb as y,xb as k}from"./chunk-Q4MJ3VWG.js";var U=(()=>{class r{get dragHandle(){return!0}static \u0275fac=function(a){return new(a||r)};static \u0275cmp=u({type:r,selectors:[["dnd-indirect-handle"]],hostVars:2,hostBindings:function(a,e){a&2&&M("drag-handle",e.dragHandle)},standalone:!0,features:[D],decls:1,vars:0,consts:[["dndHandle","","fontIcon","drag_handle"]],template:function(a,e){a&1&&_(0,"mat-icon",0)},dependencies:[b,h,E]})}return r})();var Z=["*"],X=(()=>{class r{static \u0275fac=function(a){return new(a||r)};static \u0275cmp=u({type:r,selectors:[["dnd-indirect-drag-image"]],standalone:!0,features:[D],ngContentSelectors:Z,decls:2,vars:0,consts:[["dndDragImageRef",""]],template:function(a,e){a&1&&(y(),i(0,"div",0),k(1),l())},dependencies:[I]})}return r})();function ee(r,v){r&1&&(i(0,"div",16),_(1,"mat-icon",17),l())}function ne(r,v){if(r&1){let t=T();i(0,"mat-card",4),f("dndCanceled",function(e){g(t);let d=c();return s(d.onDragged(e,"none"))})("dndCopied",function(e){g(t);let d=c();return s(d.onDragged(e,"copy"))})("dndEnd",function(e){g(t);let d=c();return s(d.onDragEnd(e))})("dndLinked",function(e){g(t);let d=c();return s(d.onDragged(e,"link"))})("dndMoved",function(e){g(t);let d=c();return s(d.onDragged(e,"move"))})("dndStart",function(e){g(t);let d=c();return s(d.onDragStart(e))}),i(1,"mat-card-content",5),C(2,ee,2,0,"div",15),p(3),i(4,"span",7),p(5," only with handle"),l(),i(6,"span",7),p(7," DISABLED"),l()()()}if(r&2){let t=v.$implicit;m("dndDisableIf",t.disable)("dndDraggable",t.content)("dndEffectAllowed",t.effectAllowed),o(2),m("ngIf",t.handle),o(),S(" draggable (",t.effectAllowed,") "),o(),m("hidden",!t.handle),o(2),m("hidden",!t.disable)}}function te(r,v){r&1&&(i(0,"div",18),_(1,"mat-icon",19),l())}function de(r,v){if(r&1&&(i(0,"pre"),p(1),W(2,"json"),l()),r&2){let t=c();o(),A(L(2,1,t.lastDropEvent))}}var ve=(()=>{class r{snackBarService;draggables=[{content:"testdata",effectAllowed:"copy",disable:!1,handle:!1},{content:"testdata2",effectAllowed:"move",disable:!1,handle:!1},{content:"testdata3",effectAllowed:"link",disable:!1,handle:!1},{content:"testdata4",effectAllowed:"copy",disable:!0,handle:!1},{content:"testdata5",effectAllowed:"copy",disable:!1,handle:!0}];draggableWithDragImage={content:"testdata6",effectAllowed:"copy",disable:!1,handle:!0};dropzoneEnabled=!0;lastDropEvent=null;currentDraggableEvent;currentDragEffectMsg;constructor(t){this.snackBarService=t}dragImageOffsetRight=(t,a)=>{let e=window.getComputedStyle(a),d=parseFloat(e.paddingTop)||0,n=parseFloat(e.paddingLeft)||0,q=parseFloat(e.borderTopWidth)||0,K=parseFloat(e.borderLeftWidth)||0;return{x:a.clientWidth-(t.offsetX+n+K),y:t.offsetY+d+q}};onDragStart(t){this.lastDropEvent=null,this.currentDragEffectMsg="",this.currentDraggableEvent=t,this.snackBarService.dismiss(),this.snackBarService.open("Drag started!",void 0,{duration:2e3})}onDragged(t,a){this.currentDragEffectMsg=`Drag ended with effect "${a}"!`}onDragEnd(t){this.currentDraggableEvent=t,this.snackBarService.dismiss(),this.snackBarService.open(this.currentDragEffectMsg||"Drag ended!",void 0,{duration:2e3})}onDrop(t){this.lastDropEvent=t}static \u0275fac=function(a){return new(a||r)(w(G))};static \u0275cmp=u({type:r,selectors:[["dnd-simple"]],standalone:!0,features:[D],decls:36,vars:20,consts:[[1,"container-fluid"],[1,"row","gap-3","gap-sm-0"],[1,"d-flex","flex-column","col","gap-2"],["appearance","raised",3,"dndDisableIf","dndDraggable","dndEffectAllowed","dndCanceled","dndCopied","dndEnd","dndLinked","dndMoved","dndStart",4,"ngFor","ngForOf"],["appearance","raised",3,"dndCanceled","dndCopied","dndEnd","dndLinked","dndMoved","dndStart","dndDisableIf","dndDraggable","dndEffectAllowed"],[1,"d-flex","flex-column","gap-2"],["class","drag-handle",4,"ngIf"],[3,"hidden"],["dndDragImageRef",""],["appearance","raised",3,"dndCanceled","dndCopied","dndEnd","dndLinked","dndMoved","dndStart","dndDisableIf","dndDragImageOffsetFunction","dndDraggable","dndEffectAllowed"],[1,"col"],["appearance","raised"],[3,"change","checked"],["dndDragoverClass","custom-drag-over","dndDropzone","",1,"my-dropzone","mt-3","p-2","border","rounded",3,"dndDrop","dndDisableIf"],[4,"ngIf"],["class","drag-handle","dndHandle","",4,"ngIf"],["dndHandle","",1,"drag-handle"],["fontIcon","drag_handle","mat-list-icon",""],[1,"drag-handle"],["dndHandle","","fontIcon","drag_handle","mat-list-icon",""]],template:function(a,e){a&1&&(i(0,"div",0)(1,"div",1)(2,"div",2),C(3,ne,8,7,"mat-card",3),i(4,"mat-card",4),f("dndCanceled",function(n){return e.onDragged(n,"none")})("dndCopied",function(n){return e.onDragged(n,"copy")})("dndEnd",function(n){return e.onDragEnd(n)})("dndLinked",function(n){return e.onDragged(n,"link")})("dndMoved",function(n){return e.onDragged(n,"move")})("dndStart",function(n){return e.onDragStart(n)}),i(5,"mat-card-content",5),C(6,te,2,0,"div",6),p(7),i(8,"span",7),p(9,"only with handle"),l(),i(10,"span",7),p(11," DISABLED"),l(),i(12,"div",8),p(13,"MY_CUSTOM_DRAG_IMAGE"),l()()(),i(14,"mat-card",4),f("dndCanceled",function(n){return e.onDragged(n,"none")})("dndCopied",function(n){return e.onDragged(n,"copy")})("dndEnd",function(n){return e.onDragEnd(n)})("dndLinked",function(n){return e.onDragged(n,"link")})("dndMoved",function(n){return e.onDragged(n,"move")})("dndStart",function(n){return e.onDragStart(n)}),i(15,"mat-card-content",5),_(16,"dnd-indirect-handle"),p(17),i(18,"dnd-indirect-drag-image"),p(19,"I'm the drag image but pssst"),l()()(),i(20,"mat-card",9),f("dndCanceled",function(n){return e.onDragged(n,"none")})("dndCopied",function(n){return e.onDragged(n,"copy")})("dndEnd",function(n){return e.onDragEnd(n)})("dndLinked",function(n){return e.onDragged(n,"link")})("dndMoved",function(n){return e.onDragged(n,"move")})("dndStart",function(n){return e.onDragStart(n)}),i(21,"mat-card-content",5)(22,"div"),p(23),l(),_(24,"dnd-indirect-handle"),l()()(),i(25,"div",10)(26,"mat-card",11)(27,"mat-card-header")(28,"mat-card-title"),p(29,"Dropzone"),l(),i(30,"mat-card-subtitle")(31,"mat-slide-toggle",12),f("change",function(n){return e.dropzoneEnabled=n.checked}),p(32," Enabled "),l()()(),i(33,"mat-card-content")(34,"section",13),f("dndDrop",function(n){return e.onDrop(n)}),C(35,de,3,3,"pre",14),l()()()()()()),a&2&&(o(3),m("ngForOf",e.draggables),o(),m("dndDisableIf",e.draggableWithDragImage.disable)("dndDraggable",e.draggableWithDragImage)("dndEffectAllowed",e.draggableWithDragImage.effectAllowed),o(2),m("ngIf",e.draggableWithDragImage.handle),o(),S(" draggable (",e.draggableWithDragImage.effectAllowed,") "),o(),m("hidden",!e.draggableWithDragImage.handle),o(2),m("hidden",!e.draggableWithDragImage.disable),o(4),m("dndDisableIf",e.draggableWithDragImage.disable)("dndDraggable",e.draggableWithDragImage)("dndEffectAllowed",e.draggableWithDragImage.effectAllowed),o(3),S(" draggable (",e.draggableWithDragImage.effectAllowed,") "),o(3),m("dndDisableIf",e.draggableWithDragImage.disable)("dndDragImageOffsetFunction",e.dragImageOffsetRight)("dndDraggable",e.draggableWithDragImage)("dndEffectAllowed",e.draggableWithDragImage.effectAllowed),o(3),S("draggable (",e.draggableWithDragImage.effectAllowed,")"),o(8),m("checked",e.dropzoneEnabled),o(3),m("dndDisableIf",!e.dropzoneEnabled),o(),m("ngIf",e.lastDropEvent))},dependencies:[P,V,O,R,z,B,F,N,x,E,b,h,I,U,X,$,j,Y,H],styles:["[_nghost-%COMP%]{display:block;height:100%}.my-dropzone[_ngcontent-%COMP%]{transition:all .3s ease}.custom-drag-over[_ngcontent-%COMP%]{background-color:#0000000f}pre[_ngcontent-%COMP%]{white-space:pre-wrap;word-wrap:break-word}"]})}return r})();export{ve as default};
